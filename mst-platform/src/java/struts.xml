<?xml version="1.0" encoding="UTF-8" ?>
<!--
  * Copyright (c) 2009 University of Rochester
  *
  * This program is free software; you can redistribute it and/or modify it under the terms of the MIT/X11 license. The text of the
  * license can be found at http://www.opensource.org/licenses/mit-license.php and copy of the license can be found on the project
  * website http://www.extensiblecatalog.org/.
  *
  -->

<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <include file="struts-default.xml"/>
    <include file="config-browser.xml"/>
    <package name="default" namespace="/st" extends="struts-default">

           <result-types>
               <result-type name="no-op" class="xc.mst.action.result.NoOp"/>
           </result-types>
               
    	<interceptors>
             <interceptor name="user" class="xc.mst.interceptor.UserInterceptor"/>
             <interceptor name="roles" class="xc.mst.interceptor.MSTRolesInterceptor"/>

             <interceptor-stack name="default">
                <interceptor-ref name="defaultStack"/>
                <interceptor-ref name="user"/>
             </interceptor-stack>
        
             <interceptor-stack name="editStack">
                 <interceptor-ref name="servletConfig"/>
                 <interceptor-ref name="staticParams"/>
                 <interceptor-ref name="params"/>
                 <interceptor-ref name="prepare"/>
                 <interceptor-ref name="modelDriven"/>
                 <interceptor-ref name="conversionError"/>
                 <interceptor-ref name="user"/>
             </interceptor-stack>
             
             <interceptor-stack name="crudStack">
                 <interceptor-ref name="servletConfig"/>
                 <interceptor-ref name="staticParams"/>
                 <interceptor-ref name="params"/>
                 <interceptor-ref name="prepare"/>
                 <interceptor-ref name="modelDriven"/>
                 <interceptor-ref name="params"/>
                 <interceptor-ref name="conversionError"/>
                 <interceptor-ref name="validation"/>
                 <interceptor-ref name="workflow"/>
                 <interceptor-ref name="user"/>
             </interceptor-stack>
             
        </interceptors>
        
        <global-results>
        	 <result name="no-permission">pages/no_permission_assigned.jsp</result>
        	 <result name="user-login" type="redirect">home.action</result>
        	 <result name="user-initial-page" type="redirect">${forwardLink}</result>
        	 <result name="access-denied">pages/access-denied.jsp</result>
        </global-results>        
       
        <!--  ************************************ -->
        <!--  Login actions                 	   -->
        <!--  ************************************ -->
        <action name="home">
            <result name="success">index.jsp</result>
        </action>
        
        <action name="viewLogin" class="xc.mst.action.Login">
			<result name="success">pages/login.jsp</result>
			<result name="input">pages/login.jsp</result>
        </action>
                
        <action name="login" class="xc.mst.action.Login" method="login">
			<result name="success" type="redirect">${forwardLink}</result>
			<result name="input">pages/login.jsp</result>
        </action>
        
        <action name="logout" class="xc.mst.action.Logout">
			<result name="success" type="redirect">home.action</result>
        </action>        

        <action name="viewForgotPassword" class="xc.mst.action.user.ForgotPassword">
			<result name="success">pages/forgot_password.jsp</result>
			<result name="input">pages/forgot_password.jsp</result>
        </action> 
        
        <action name="resetPassword" class="xc.mst.action.user.ForgotPassword" method="resetPassword">
			<result name="success">pages/forgot_password.jsp</result>
			<result name="input">pages/forgot_password.jsp</result>
        </action>          

       
        <!--  ************************************ -->
        <!--  My Account actions                   -->
        <!--  ************************************ -->
        
        <action name="viewMyAccount" class="xc.mst.action.user.EditMyAccount">
        	<interceptor-ref name="default"/>
			<result name="success">pages/user/edit_my_account.jsp</result>
        </action> 

        <action name="saveMyAccount" class="xc.mst.action.user.EditMyAccount" method="saveMyAccount">
        	<interceptor-ref name="default"/>
			<result name="success">pages/user/edit_my_account.jsp</result>
			<result name="input">pages/user/edit_my_account.jsp</result>
        </action>         
        
        <action name="viewChangePassword" class="xc.mst.action.user.ChangePassword">
        	<interceptor-ref name="default"/>
			<result name="success">pages/user/change_password.jsp</result>
        </action> 

        <action name="changePassword" class="xc.mst.action.user.ChangePassword" method="changePassword">
        	<interceptor-ref name="default"/>
			<result name="success" type="redirect">viewMyAccount.action</result>
			<result name="input">pages/user/change_password.jsp</result>
        </action>             
        
       <!--  ************************************ -->
        <!--  Repository actions                   -->
        <!--  ************************************ -->
        
        <action name="allRepository" class="xc.mst.action.repository.AllRepository">
        	<interceptor-ref name="editStack"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">repositories</param>
	      	</interceptor-ref>
			<result name="success">pages/repository/all_repository.jsp</result>
			<result name="input">index.jsp</result>
		</action>

        <action name="addRepository" class="xc.mst.action.repository.AddRepository" method="addRepository">
            <interceptor-ref name="crudStack"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">repositories</param>
	      	</interceptor-ref>            
            <result name="success" type="redirect">viewRepository.action?RepositoryId=${repositoryId}</result>
            <result name="input">pages/repository/add_repository.jsp</result>
        </action>
        
        <action name="viewRepository" class="xc.mst.action.repository.ViewRepository">
        	<interceptor-ref name="default"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">repositories</param>
	      	</interceptor-ref>        	
            <result name="success">pages/repository/view_repository.jsp</result>
            <result name="input">pages/repository/all_repository.jsp</result>
        </action>
        
        <action name="viewRepositoryValidate" class="xc.mst.action.repository.ViewRepository" method="validateRepository">
        	<interceptor-ref name="default"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">repositories</param>
	      	</interceptor-ref>        	
            <result name="success">pages/repository/view_repository.jsp</result>
        </action>
        
        <action name="viewEditRepository" class="xc.mst.action.repository.EditRepository">
        	<interceptor-ref name="default"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">repositories</param>
	      	</interceptor-ref>        	
            <result name="success">pages/repository/edit_repository.jsp</result>
            <result name="input">pages/repository/all_repository.jsp</result>
        </action>
        
        <action name="viewAddRepository" class="xc.mst.action.repository.AddRepository">
			<interceptor-ref name="default"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">repositories</param>
	      	</interceptor-ref>			
			<result name="success">pages/repository/add_repository.jsp</result>
		</action>
		
        <action name="editRepository" class="xc.mst.action.repository.EditRepository" method="editRepository">
        	<interceptor-ref name="default"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">repositories</param>
	      	</interceptor-ref>        	
             <result name="success" type="redirect">viewRepository.action?RepositoryId=${repositoryId}</result>
             <result name="input" >pages/repository/edit_repository.jsp</result>
        </action>
        
        <action name="deleteRepository" class="xc.mst.action.repository.DeleteRepository">
        	<interceptor-ref name="editStack"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">repositories</param>
	      	</interceptor-ref>        	
            <result name="success">pages/repository/repository_delete_confirmation.jsp</result>
            <result name="input">pages/repository/view_repository.jsp</result>
        </action>

        <action name="deleteRepositoryRecords" class="xc.mst.action.repository.DeleteRepository" method="deleteRepositoryAndRecords">
        	<interceptor-ref name="editStack"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">repositories</param>
	      	</interceptor-ref>        	
            <result name="success" type="redirect">allRepository.action</result>
            <result name="input">pages/repository/view_repository.jsp</result>
        </action>
        
        <!--  ************************************ -->
        <!--  Schedule  actions                    -->
        <!--  ************************************ -->

		<!-- To view all schedules -->        		
		<action name="allSchedules" class="xc.mst.action.harvest.AllSchedules">
        	<interceptor-ref name="editStack"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>        	
			<result name="success">pages/schedule/all_schedules.jsp</result>
		</action>

		<!-- To view all schedules -->        		
		<action name="getSchedulesTable" class="xc.mst.action.harvest.AllSchedules" method="getAllSchedules">
        	<interceptor-ref name="editStack"/>
	        <interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>           	
			<result name="success">pages/schedule/schedules_table.jsp</result>
		</action>		
		
		<!-- Action to view the page to add schedule - step 1 -->
		<action name="viewAddSchedule" class="xc.mst.action.harvest.AddSchedule">
        	<interceptor-ref name="editStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>   
			<result name="success">pages/schedule/add_schedule.jsp</result>
			<result name="input">pages/schedule/add_schedule.jsp</result>
		</action>

		<!-- Action to add schedule and go to step 2 of add schedule -->
		<action name="addScheduleAndNext" class="xc.mst.action.harvest.AddSchedule" method="addScheduleAndProvider">
        	<interceptor-ref name="crudStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>   
			<result name="success">pages/schedule/add_schedule_sets_formats.jsp</result>
			<result name="input">pages/schedule/add_schedule.jsp</result>
		</action>	
		
		<!-- Action to add sets and formats for schedule and go to all schedule page -->
		<action name="saveSetFormatForScheduleAndExit" class="xc.mst.action.harvest.AddSchedule" method="addSchedule">
        	<interceptor-ref name="crudStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>   
			<result name="success" type="redirect">allSchedules.action</result>
			<result name="input">pages/schedule/add_schedule_sets_formats.jsp</result>
		</action>	
		
		<!-- Action to add sets and formats for schedule and go to add schedule step 1 -->
		<action name="saveSetFormatForScheduleAndGoToPrevious" class="xc.mst.action.harvest.AddSchedule" method="addSetFormatForSchedule">
        	<interceptor-ref name="crudStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>   
			<result name="success">pages/schedule/add_schedule.jsp</result>
			<result name="input">pages/schedule/add_schedule_sets_formats.jsp</result>
		</action>
		
		<!-- Action to edit schedule step 1 -->
		<action name="viewEditSchedule" class="xc.mst.action.harvest.AddSchedule" method="viewEdit">
        	<interceptor-ref name="editStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>   
			<result name="success">pages/schedule/add_schedule.jsp</result>
			<result name="input">pages/schedule/add_schedule.jsp</result>
		</action>
		
		<!-- Action to update schedule and go to add schedule step 2 -->
		<action name="updateScheduleAndNext" class="xc.mst.action.harvest.AddSchedule" method="updateSchedule">
        	<interceptor-ref name="editStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>   
			<result name="success">pages/schedule/add_schedule_sets_formats.jsp</result>
			<result name="input">pages/schedule/add_schedule.jsp</result>
		</action>

		<!-- Action to update schedule and go to all schedule page 
		<action name="updateScheduleAndExit" class="xc.mst.action.harvest.AddSchedule" method="updateSchedule">
        	<interceptor-ref name="editStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>   
			<result name="success" type="redirect">allSchedules.action</result>
			<result name="input">pages/schedule/add_schedule.jsp</result>
		</action>
		-->
		
		<!-- Action to delete schedule -->
		<action name="deleteSchedule" class="xc.mst.action.harvest.AllSchedules" method="deleteSchedule">
        	<interceptor-ref name="editStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">harvest</param>
	      	</interceptor-ref>   
			<result name="success">pages/schedule/all_schedules.jsp</result>
			<result name="input">pages/schedule/all_schedules.jsp</result>
		</action>


        <!--  ************************************ -->
        <!--  Services  actions                    -->
        <!--  ************************************ -->
        <action name="listServices" class="xc.mst.action.services.ListServices">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>   
			<result name="success">pages/services/list_services.jsp</result>
			<result name="input">pages/services/list_services.jsp</result>
		</action>
		
        <action name="viewAddService" class="xc.mst.action.services.AddService">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
			<result name="success">pages/services/add_service.jsp</result>
		</action>
        
        <action name="addService" class="xc.mst.action.services.AddService" method="addService">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">listServices.action</result>
            <result name="input">pages/services/add_service.jsp</result>
		</action>
        
        <action name="deleteService" class="xc.mst.action.services.DeleteService">
        	<interceptor-ref name="editStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
            <result name="success">pages/services/service_delete_confirmation.jsp</result>
            <result name="input">listServices.action</result>
        </action>

        <action name="deleteServiceRecords" class="xc.mst.action.services.DeleteService" method="deleteServiceAndRecords">
        	<interceptor-ref name="editStack"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
            <result name="success" type="redirect">listServices.action</result>
        </action>


        <action name="viewEditService" class="xc.mst.action.services.EditService">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
			<result name="success">pages/services/edit_service.jsp</result>
		</action>
        <action name="editService" class="xc.mst.action.services.EditService" method="editService">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">listServices.action</result>
            <result name="input">pages/services/edit_service.jsp</result>
		</action>

        <action name="serviceAbort" class="xc.mst.action.services.ServiceInteract">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
			<result name="success">inc/refreshPageOnce.jsp?serviceStatus=aborted</result>
		</action>

        <action name="servicePause" class="xc.mst.action.services.ServiceInteract" method="pauseJob">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
			<result name="success">inc/refreshPageOnce.jsp?serviceStatus=paused</result>
		</action>

        <action name="serviceResume" class="xc.mst.action.services.ServiceInteract" method="resumeJob">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
			<result name="success">inc/refreshPageOnce.jsp?serviceStatus=resumed</result>
		</action>

        <action name="refreshServiceBar" class="xc.mst.action.services.RefreshServiceBar">
         	<interceptor-ref name="default"/>
         	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Services</param>
	      	</interceptor-ref>
			<result name="success">inc/service_bar.jsp</result>
			<result name="input">inc/error.jsp</result>
		</action>

        <!--  ************************************ -->
        <!--    Processing Rules actions           -->
        <!--  ************************************ -->

         <action name="listProcessingDirectives" class="xc.mst.action.processingDirective.ListProcessingDirectives">
         	<interceptor-ref name="default"/>
         	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success">pages/processing_rules/list_processingdirectives.jsp</result>
			<result name="input">pages/processing_rules/list_processingdirectives.jsp</result>
		</action>
        
         <action name="viewAddProcessingDirectives" class="xc.mst.action.processingDirective.AddProcessingDirective">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success">pages/processing_rules/add_processingdirective.jsp</result>
			<result name="input">pages/processing_rules/add_processingdirective.jsp</result>
		</action>
        <action name="addProcessingDirectiveGoBack" class="xc.mst.action.processingDirective.AddProcessingDirectiveSetsFormats" method="addProcessingDirectiveGoBack">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">viewAddProcessingDirectives.action</result>
			<result name="input">pages/processing_rules/add_processingdirective_sets_formats.jsp</result>
		</action>
        <action name="addProcessingDirectiveCancel" class="xc.mst.action.processingDirective.AddProcessingDirectiveSetsFormats" method="addProcessingDirectiveCancel">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">listProcessingDirectives.action</result>
			<result name="input">pages/processing_rules/add_processingdirective_sets_formats.jsp</result>
		</action>
		
         <action name="addProcessingDirectives" class="xc.mst.action.processingDirective.AddProcessingDirective" method="addProcessingDirectives">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">viewAddProcessingDirectivesSetsFormats.action</result>
			<result name="input">pages/processing_rules/add_processingdirective.jsp</result>
		</action>
		
        <action name="viewAddProcessingDirectivesSetsFormats" class="xc.mst.action.processingDirective.AddProcessingDirectiveSetsFormats">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success">pages/processing_rules/add_processingdirective_sets_formats.jsp</result>
			<result name="input">pages/processing_rules/add_processingdirective_sets_formats.jsp</result>
		</action>
		
         <action name="addProcessingDirectivesSetsFormats" class="xc.mst.action.processingDirective.AddProcessingDirectiveSetsFormats" method="addProcessingDirectivesSetsFormats">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">listProcessingDirectives.action</result>
            <result name="input">pages/processing_rules/add_processingdirective_sets_formats.jsp</result>
			<result name="error">pages/processing_rules/add_processingdirective_sets_formats.jsp</result>
		</action>
		
         <action name="viewEditProcessingDirectives" class="xc.mst.action.processingDirective.EditProcessingDirective">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success">pages/processing_rules/edit_processingdirective.jsp</result>
			<result name="input">pages/processing_rules/edit_processingdirective.jsp</result>
		</action>
		
        <action name="editProcessingDirectives" class="xc.mst.action.processingDirective.EditProcessingDirective" method="editProcessingDirectives">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">viewEditProcessingDirectivesSetsFormats.action?ProcessingDirectiveId=${processingDirectiveId}</result>
			<result name="input">pages/processing_rules/edit_processingdirective.jsp</result>
		</action>
		
        <action name="viewEditProcessingDirectivesSetsFormats" class="xc.mst.action.processingDirective.EditProcessingDirectiveSetsFormats">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success">pages/processing_rules/edit_processingdirective_sets_formats.jsp</result>
			<result name="input">pages/processing_rules/edit_processingdirective_sets_formats.jsp</result>
		</action>
		
        <action name="editProcessingDirectivesSetsFormats" class="xc.mst.action.processingDirective.EditProcessingDirectiveSetsFormats" method="editProcessingDirectivesSetsFormats">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">listProcessingDirectives.action</result>
			<result name="input">pages/processing_rules/edit_processingdirective_sets_formats.jsp</result>
            <result name="error">pages/processing_rules/edit_processingdirective_sets_formats.jsp</result>
		</action>
        <action name="editProcessingDirectiveGoBack" class="xc.mst.action.processingDirective.EditProcessingDirectiveSetsFormats" method="editProcessingDirectiveGoBack">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">viewEditProcessingDirectives.action</result>
			<result name="input">pages/processing_rules/edit_processingdirective_sets_formats.jsp</result>
		</action>
        <action name="editProcessingDirectiveCancel" class="xc.mst.action.processingDirective.EditProcessingDirectiveSetsFormats" method="editProcessingDirectiveCancel">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">listProcessingDirectives.action</result>
			<result name="input">pages/processing_rules/edit_processingdirective_sets_formats.jsp</result>
		</action>
         <action name="deleteProcessingDirective" class="xc.mst.action.processingDirective.DeleteProcessingDirective">
			<interceptor-ref name="default"/>
			<interceptor-ref name="roles">
	        	<param name="allowedRoles">Processing Rules</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">listProcessingDirectives.action</result>
		</action>
		
        <!--  ************************************ -->
        <!--  User Registeration  actions          -->
        <!--  ************************************ -->
        <action name="viewUserRegisteration" class="xc.mst.action.user.UserRegistration">
			<result name="success">pages/user/user_registration.jsp</result>
			<result name="input">pages/user/user_registration.jsp</result>
		</action>
		
        <action name="registerUser" class="xc.mst.action.user.UserRegistration" method="registerUser">
			<result name="success">pages/user/registration_message.jsp</result>
			<result name="input">pages/user/user_registration.jsp</result>
		</action>
		
        <!--  ************************************ -->
        <!--  User  actions   				       -->
        <!--  ************************************ -->		
         <action name="allUsers" class="xc.mst.action.user.AllUsers">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success">pages/user/all_users.jsp</result>
		</action>
		 <action name="allGroups" class="xc.mst.action.user.AllGroups">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success">pages/user/all_groups.jsp</result>
		</action>
         <action name="viewAddLocalUser" class="xc.mst.action.user.AddLocalUser">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success">pages/user/add_localuser.jsp</result>
			<result name="input">pages/user/add_localuser.jsp</result>
            <result name="error">pages/user/add_localuser.jsp</result>
		</action>
        <action name="addLocalUser" class="xc.mst.action.user.AddLocalUser" method="addLocalUser">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">allUsers.action?isAscendingOrder=true&amp;columnSorted=UserName</result>
			<result name="input">pages/user/add_localuser.jsp</result>
            <result name="error">pages/user/add_localuser.jsp</result>
		</action>
        <action name="viewEditLocalUser" class="xc.mst.action.user.EditLocalUser">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
            <result name="success">pages/user/edit_localuser.jsp</result>
			<result name="input">pages/user/edit_localuser.jsp</result>
            <result name="error">pages/user/edit_localuser.jsp</result>
		</action>
        <action name="editLocalUser" class="xc.mst.action.user.EditLocalUser" method="editLocalUser">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">allUsers.action?isAscendingOrder=true&amp;columnSorted=UserName</result>
			<result name="input">pages/user/edit_localuser.jsp</result>
            <result name="error">pages/user/edit_localuser.jsp</result>
		</action>
        <action name="viewAddLDAPUser" class="xc.mst.action.user.AddLDAPUser">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success">pages/user/add_LDAPuser.jsp</result>
		</action>
        <action name="addLDAPUser" class="xc.mst.action.user.AddLDAPUser" method="addLDAPUser">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">allUsers.action</result>
			<result name="input">pages/user/add_LDAPuser.jsp</result>
            <result name="error">pages/user/add_LDAPuser.jsp</result>
		</action>
        <action name="viewEditLDAPUser" class="xc.mst.action.user.EditLDAPUser">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success">pages/user/edit_LDAPuser.jsp</result>
		</action>
        <action name="editLDAPUser" class="xc.mst.action.user.EditLDAPUser" method="editLDAPUser">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">allUsers.action</result>
			<result name="input">pages/user/edit_LDAPuser.jsp</result>
            <result name="error">pages/user/edit_LDAPuser.jsp</result>
		</action>
         <action name="viewAddGroup" class="xc.mst.action.user.AddGroup">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success">pages/user/add_group.jsp</result>
			<result name="input">pages/user/all_groups.jsp</result>
		</action>

        <action name="showGroupMembers" class="xc.mst.action.user.ShowGroupMembers">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success">pages/user/showGroupMembers.jsp</result>
			<result name="input">pages/user/all_groups.jsp</result>
		</action>
        <action name="removeMember" class="xc.mst.action.user.RemoveMember">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">showGroupMembers.action?groupId=${groupId}&amp;isAscendingOrder=true&amp;columnSorted=UserName</result>
			<result name="input">pages/user/showGroupMembers.jsp</result>
		</action>

         <action name="addGroup" class="xc.mst.action.user.AddGroup" method="addGroup">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">allGroups.action?isAscendingOrder=true&amp;columnSorted=GroupName</result>
			<result name="input">pages/user/add_group.jsp</result>
		</action>
        <action name="viewEditGroup" class="xc.mst.action.user.EditGroup">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success">pages/user/edit_group.jsp</result>
			<result name="input">pages/user/all_groups.jsp</result>
		</action>
        <action name="editGroup" class="xc.mst.action.user.EditGroup" method="editGroup">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">allGroups.action?isAscendingOrder=true&amp;columnSorted=GroupName</result>
			<result name="input">pages/user/edit_group.jsp?GroupId=${groupId}</result>
		</action>
         <action name="deleteUser" class="xc.mst.action.user.DeleteUser">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">allUsers.action?isAscendingOrder=true&amp;columnSorted=UserName</result>
			<result name="input">pages/user/all_users.jsp</result>
		</action>
		<action name="deleteGroup" class="xc.mst.action.user.DeleteGroup">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Users/Groups</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">allGroups.action?isAscendingOrder=true&amp;columnSorted=GroupName</result>
			<result name="input">pages/user/all_groups.jsp</result>
		</action>
        
        <!--  ************************************ -->
        <!--  Browse Records  actions          -->
        <!--  ************************************ -->
        
        <action name="viewBrowseRecords" class="xc.mst.action.browse.BrowseRecords">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Browse Records</param>
	      	</interceptor-ref>
			<result name="success">pages/browse_records/browse_records.jsp</result>
			<result name="input">pages/browse_records/browse_records.jsp</result>
		</action>
		
        <action name="browseRecords" class="xc.mst.action.browse.BrowseRecords" method="browse">
        	<interceptor-ref name="default"/>
        	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Browse Records</param>
	      	</interceptor-ref>
			<result name="success">pages/browse_records/browse_records.jsp</result>
			<result name="input">pages/browse_records/browse_records.jsp</result>
		</action>
		
		<action name="viewRecord" class="xc.mst.action.browse.BrowseRecords" method="viewRecord">
		 	<interceptor-ref name="default"/>
		 	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Browse Records</param>
	      	</interceptor-ref>
			<result name="success">pages/browse_records/record.jsp</result>
			<result name="input">pages/browse_records/record.jsp</result>
		</action>
		
		
		<action name="viewErrorDescription" class="xc.mst.action.browse.BrowseRecords" method="viewErrorDescription">
		 	<interceptor-ref name="default"/>
		 	<interceptor-ref name="roles">
	        	<param name="allowedRoles">Browse Records</param>
	      	</interceptor-ref>
			<result name="success">pages/browse_records/error_description.jsp</result>
			<result name="input">pages/browse_records/error_description.jsp</result>
		</action>		
		
		<!--  ************************************ -->
        <!--  Configuration actions          -->
        <!--  ************************************ -->
        <action name="addLDAP" class="xc.mst.action.configuration.AddLDAP" method="addLDAP">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Configuration</param>
	      	</interceptor-ref>
			<result name="success">pages/configuration/add_ldap.jsp</result>
			<result name="input">pages/configuration/add_ldap.jsp</result>
		</action>
		
        <action name="deleteLDAP" class="xc.mst.action.configuration.DeleteLDAP">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Configuration</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">viewAddLDAP.action</result>
			<result name="input">pages/configuration/add_ldap.jsp</result>
		</action>
		
        <action name="viewAddLDAP" class="xc.mst.action.configuration.AddLDAP">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Configuration</param>
	      	</interceptor-ref>
			<result name="success">pages/configuration/add_ldap.jsp</result>
			<result name="input">pages/configuration/add_ldap.jsp</result>
		</action>
        
       
        <action name="viewEmailConfig" class="xc.mst.action.configuration.EmailConfiguration">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Configuration</param>
	      	</interceptor-ref>
			<result name="success">pages/configuration/email_configuration.jsp</result>
			<result name="input">pages/configuration/email_configuration.jsp</result>
		</action>
		
        <action name="changeEmailConfig" class="xc.mst.action.configuration.EmailConfiguration" method="changeEmailConfig">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Configuration</param>
	      	</interceptor-ref>
			<result name="success">pages/configuration/email_configuration.jsp</result>
			<result name="input">pages/configuration/email_configuration.jsp</result>
		</action>

        	<!--  ************************************ -->
            <!--           Log actions                 -->
            <!--  ************************************ -->
         <action name="generalLog" class="xc.mst.action.log.GeneralLog">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success">pages/logs/general_log.jsp</result>
		 </action>
		 
         <action name="generalLogReset" class="xc.mst.action.log.GeneralLogReset">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">generalLog.action</result>
		 </action>
		 
          <action name="generalLogResetAll" class="xc.mst.action.log.GeneralLogReset" method="resetAll">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">generalLog.action</result>
		 </action>
		 
         <action name="serviceLog" class="xc.mst.action.log.ServiceLog">
             <interceptor-ref name="default"/>
             <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success">pages/logs/service_log.jsp</result>
		</action>
		
        <action name="harvestOutLog" class="xc.mst.action.log.HarvestOutLog">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success">pages/logs/harvest_out_log.jsp</result>
		</action>
		
        <action name="serviceReset" class="xc.mst.action.log.ServiceReset">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">serviceLog.action?isAscendingOrder=true&amp;columnSorted=ServiceName</result>
		</action>
		
        <action name="serviceResetAll" class="xc.mst.action.log.ServiceReset" method="resetAll">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">serviceLog.action?isAscendingOrder=true&amp;columnSorted=ServiceName</result>
		</action>
		
        <action name="harvestOutReset" class="xc.mst.action.log.HarvestOutReset">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">harvestOutLog.action?isAscendingOrder=true&amp;columnSorted=ServiceName</result>
		</action>
		
        <action name="harvestOutResetAll" class="xc.mst.action.log.HarvestOutReset" method="resetAll">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">harvestOutLog.action?isAscendingOrder=true&amp;columnSorted=ServiceName</result>
		</action>
		
        <action name="harvestInReset" class="xc.mst.action.log.HarvestInReset">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">harvestInLog.action?isAscendingOrder=true&amp;columnSorted=RepositoryName</result>
		</action>
		
        <action name="harvestInResetAll" class="xc.mst.action.log.HarvestInReset" method="resetAll">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success" type="redirect">harvestInLog.action?isAscendingOrder=true&amp;columnSorted=RepositoryName</result>
		</action>
		
        <action name="harvestInLog" class="xc.mst.action.log.HarvestInLog">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success">pages/logs/harvest_in_log.jsp</result>
		</action>
		
        <action name="displayOAIRequest" class="xc.mst.action.log.DisplayOAIRequest">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs</param>
	      	</interceptor-ref>
			<result name="success">pages/logs/display_oai_request.jsp</result>
		</action>
		
        <action name="downloadLogFile" class="xc.mst.action.DownloadLogFiles">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Logs,Repositories,Services</param>
	      	</interceptor-ref>
            <result name="success" type="no-op"/>
        </action>
 
 		<!--  ************************************ -->
        <!--  Optimize SOlr index  actions          -->
        <!--  ************************************ -->
               
        <action name="optimizeIndex" class="xc.mst.action.IndexOptimization">
            <interceptor-ref name="default"/>
            <interceptor-ref name="roles">
	        	<param name="allowedRoles">Configuration,Services</param>
	      	</interceptor-ref>
            <result name="success">pages/index_optimization.jsp</result>
        </action>
        
		 <!--  ************************************ -->
        <!--  OAI repository servlet  actions          -->
        <!--  ************************************ -->
        
        <action name="oaiRepository" class="xc.mst.oai.OaiRepository">
			<result name="success" type="no-op"/>
		</action>

        <action name="testOaiRepository" class="xc.mst.test.TestOAIRepositoryServlet">
			<result name="success" type="no-op"/>
		</action>
		        
	</package>
	
 			
</struts>
